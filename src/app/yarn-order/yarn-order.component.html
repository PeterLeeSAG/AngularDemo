<h1>Yarn Order</h1>

<div class="shadow-sm p-3 mb-5 bg-white rounded">
<table>
<tr>
    <th>
        COMBO
    </th>
    <th *ngFor="let combo of combos; index as i">
        <table>
            <tr>
                <th>
                <app-combo-head 
                    [combo]="combo"
                    (addCombo)="onAddCombo($event)"
                    (removeCombo)="onRemoveCombo($event)"></app-combo-head>
                </th>
            </tr>
            <tr>
                <th>
                <app-combo-table 
                    [combo]="combo"
                    (comboUpdate)="onComboUpdate($event)">
                </app-combo-table>
                </th>
            </tr>
        </table>
    </th>
    <th>
        <button (click)="onPushCombo()">Add Combo</button>
    </th>
</tr>
<tr *ngFor="let order of orders; index as i">
<!--Order Row-->
    <th>
        <table>
            <tr>
                <td>
                    <app-order-head
                        [order]="order"
                        (addOrder)="onAddOrder($event)"
                        (removeOrder)="onRemoveOrder($event)"></app-order-head>
                </td>
                <td>
                    <app-order-table
                        [order]="order"
                        (changeFtyMixedMat)="onToggleMixedMat($event)"
                        (addFtyMixedMat)="onAddMatFtyOrder($event)"></app-order-table>
                </td>
            </tr>
        </table>
    </th>
    <td *ngFor="let combo of combos; index as j">
        <!--For Combo Order Mat objects-->
        <div>
            <app-combo-order-details [comboOrderDetail]="getComboOrderDetail(j+1,i+1)"></app-combo-order-details>
        </div>
    </td>
</tr>
<tr><button (click)="onPushOrder()" >Add Order</button></tr>
</table>
</div>
<br>
<div class="shadow-sm p-3 mb-5 bg-white rounded">
    <b>Max combo & order ID:</b>
    combo ID: {{this.currComboID}}
    order ID: {{this.currOrderID}}
</div>
<br>
<div class="shadow-sm p-3 mb-5 bg-white rounded">
    <b>Combo Information:</b>
    <ul>
        <li *ngFor="let combo of combos; index as i">
            Combo index: {{ i }}
            id: {{combo.id}}
            code: {{combo.code}}
            chinese name: {{combo.chineseName}}
            english name: {{combo.englishName}}
        </li>
    </ul>
</div>
<br>
<div class="shadow-sm p-3 mb-5 bg-white rounded">
    <b>Order Information:</b>
    <ul>
        <li *ngFor="let order of orders; index as i">
            Order index: {{ i }}
            id: {{order.id}}
            code: {{order.code}}
            name: {{order.name}}
            matType: {{order.matType}}
            isFtyMixed: {{order.isFtyMixed}}
        </li>
    </ul>
</div>
<br>
<div class="shadow-sm p-3 mb-5 bg-white rounded">
    <b>ComboOrderDetail Information:</b>
    <ul>
        <li *ngFor="let details of comboOrderDetails; index as i">
            ComboOrderDetail index: {{ i }}
            comboId: {{details.comboID}}
            orderId: {{details.orderID}}
            materialID: {{details.materialID}}
        </li>
    </ul>
</div>